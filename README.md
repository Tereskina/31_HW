./# HW_31 Django 

## Установка
Создать виртуальное окружение.
```sh
python3 -m venv venv
source venv/bin/activate
```

Установить зависимости

```sh
pip install poetry
poetry install
```

Загрузить докер
```sh
docker run --name 31-postgres -e POSTGRES_PASSWORD=postgres -p 5432:5432 -d postgres
```

Добавить базу postgres:
User: postgres
Password: postgres

Выполнить миграции.
```sh
./manage.py makemigrations
./manage.py migrate 
```

Загрузить тестовые данные в базу
```sh
python ./manage.py loaddata data/location.json
python ./manage.py loaddata data/categories.json
python ./manage.py loaddata data/user.json
python ./manage.py loaddata data/ads.json


```

Запустить сервер
```sh
./manage.py runserver  
```


### Задание

## Категория

- Добавьте поле `slug`, длина которого не менее 5 и не более 10 символов, а значения уникальны.

## Объявление

- Поле `name` объявления не может быть пустым и должно содержать не менее 10 символов.
- Поле `description` может быть пустым.
- Значение поля `price` не может быть меньше 0.
- Значение поля `is_published` при создании объявления не может быть True.

## Пользователи

- Добавьте пользователям поле `birth_date` и запретите регистрироваться пользователям младше 9 лет.
- Добавьте поле `email`, сделайте его уникальным и запретите регистрацию с почтового адреса в домене rambler.ru.

# Тесты

Покрыть тестами:

- создание объявления — POST `/ads`;
- создание подборки — POST `/selection`;
- выдачу списка объявлений (без фильтров) — GET `/ads`;
- выдачу одного объявления — GET `/ads/<ad_id>`.

**Критерии выполнения:**

- [ ]  Используется валидация с помощью атрибутов модели.
- [ ]  Используется валидация с помощью поля `validators` в модели и самописной функции.
- [ ]  Используется валидация с помощью атрибутов сериализатора.
- [ ]  Используется валидация с помощью атрибута `validators` сериализатора и самописного класса.
- [ ]  Написаны тесты на указанные ручки.
- [ ]  Тесты используют фикстуру для авторизации.
- [ ]  Тесты используют фабрики моделей.